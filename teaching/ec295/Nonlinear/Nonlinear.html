<!DOCTYPE html>
<html lang="en"><head>
<script src="Nonlinear_files/libs/clipboard/clipboard.min.js"></script>
<script src="Nonlinear_files/libs/quarto-html/tabby.min.js"></script>
<script src="Nonlinear_files/libs/quarto-html/popper.min.js"></script>
<script src="Nonlinear_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Nonlinear_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Nonlinear_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Nonlinear_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.189">

  <meta name="author" content="Justin Smith">
  <title>Nonlinear Regression Functions</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Nonlinear_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Nonlinear_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="Nonlinear_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="Nonlinear_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Nonlinear_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Nonlinear_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Nonlinear_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="Nonlinear_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="Nonlinear_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#43464B" class="center">
  <h1 class="title">Nonlinear Regression Functions</h1>
  <p class="subtitle">EC295</p>
  <p class="author">Justin Smith</p>
  <p class="institute">Wilfrid Laurier University</p>
  <p class="date">Fall 2022</p>
</section>

<section>
<section id="introduction" class="title-slide slide level1 center">
<h1>Introduction</h1>

</section>
<section id="introduction-1" class="slide level2">
<h2>Introduction</h2>
<ul>
<li><p>In all models we have studied, the regression slope is constant</p>
<ul>
<li><p>When <span class="math inline">\(X\)</span> changes by 1, <span class="math inline">\(Y\)</span> changes by same amount regardless of value of <span class="math inline">\(X\)</span></p></li>
<li><p>Effect of changing <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> also does not depend on other variables</p></li>
</ul></li>
<li><p>This is not always the case</p>
<ul>
<li><p>Ex: Effect of experience on wages may depend on level of experience</p>
<ul>
<li>Additional experience matters less for the very experienced</li>
</ul></li>
<li><p>Ex: Effect of extra bedroom on house price may depend on square footage</p>
<ul>
<li>Might be bigger for larger houses</li>
</ul></li>
</ul></li>
<li><p>In this section we extend the model to allow nonlinearities</p></li>
</ul>
</section>
<section id="introduction-2" class="slide level2">
<h2>Introduction</h2>
<ul>
<li><p>All models we have examined are linear in the <span class="math inline">\(X\)</span> variables</p></li>
<li><p>Sometimes this produces a bad fit to the data</p></li>
<li><p>Ex: Effect of district income on test scores</p>
<ul>
<li><p>Next slide shows test scores plotted against income</p></li>
<li><p>A linear regression is estimated and plotted on top of data</p></li>
<li><p>Notice line does not fit data pattern well</p>
<ul>
<li><p>Data takes more of a curved relationship</p></li>
<li><p>Extra income has bigger effect on test scores when income is low</p></li>
<li><p>Slope is steep at low income, flatter at high income</p></li>
</ul></li>
</ul></li>
<li><p>We can extend the regression to allow curvature in the line</p></li>
</ul>
</section>
<section id="introduction-3" class="slide level2">
<h2>Introduction</h2>

<img data-src="districtincome.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="nonlinear-functions-of-a-single-independent-variable" class="title-slide slide level1 center">
<h1>Nonlinear Functions of a Single Independent Variable</h1>

</section>
<section id="quadratic-functions" class="slide level2">
<h2>Quadratic Functions</h2>
<ul>
<li><p>Recall graph on previous slide</p></li>
<li><p>That line would fit better if curved</p>
<ul>
<li><p>Effect of income on scores depends on income</p>
<ul>
<li><p>Effect of income is large when income is low</p></li>
<li><p>Slope falls as income gets bigger</p></li>
<li><p>Called diminishing marginal returns</p></li>
</ul></li>
</ul></li>
<li><p>The easiest way to allow curvature is a quadratic function</p></li>
<li><p>A quadratic relationship between test scores and income is <span class="math display">\[TestScore_{i} = \beta_{0} + \beta_{1}Income_{i} + \beta_{2}Income_{i}^2 + u_{i}\]</span></p></li>
</ul>
</section>
<section id="quadratic-functions-1" class="slide level2">
<h2>Quadratic Functions</h2>
<ul>
<li><p>The population regression function in this model is <span class="math display">\[E[TestScore_{i}|Income_{i}] = \beta_{0} + \beta_{1}Income_{i} + \beta_{2}Income_{i}^2\]</span></p></li>
<li><p>This specification allows effect of income on test scores to depend on income</p></li>
<li><p>To see this, compute total change in the population regression <span class="math display">\[\Delta E[TestScore_{i}|Income_{i}] = \beta_{1}\Delta Income_{i} + \beta_{2}\Delta Income_{i}^2\]</span></p></li>
<li><p>Divide both sides by <span class="math inline">\(\Delta Income_{i}\)</span> <span class="math display">\[\frac{ \Delta E[TestScore_{i}|Income_{i}]}{\Delta Income_{i}} = \beta_{1}+ \beta_{2}\frac{\Delta Income_{i}^2}{\Delta Income_{i}}\]</span></p></li>
</ul>
</section>
<section id="quadratic-functions-2" class="slide level2">
<h2>Quadratic Functions</h2>
<ul>
<li><p>When <span class="math inline">\(\Delta Income_{i}\)</span> is small, we can approximate <span class="math inline">\(\frac{\Delta Income_{i}^2}{\Delta Income_{i}}\)</span> <span class="math display">\[\frac{\Delta Income_{i}^2}{\Delta Income_{i}} \approx 2Income_{i}\]</span></p></li>
<li><p>Plugging into the main equation <span class="math display">\[\frac{E[TestScore_{i}|Income_{i}]}{\Delta Income_{i}} = \beta_{1}+ 2\beta_{2}Income_{i}\]</span></p></li>
<li><p>The effect of income on test scores has two components</p>
<ul>
<li><p><span class="math inline">\(\beta_{1}\)</span>, the effect of income on test scores when <span class="math inline">\(Income_{i} = 0\)</span></p></li>
<li><p><span class="math inline">\(2\beta_{2}Income_{i}\)</span>, how the effect depends on income</p></li>
</ul></li>
</ul>
</section>
<section id="quadratic-functions-3" class="slide level2">
<h2>Quadratic Functions</h2>
<ul>
<li><p>The signs of <span class="math inline">\(\beta_{1}\)</span> and <span class="math inline">\(\beta_{2}\)</span> determine shape of function</p>
<ul>
<li><p>If <span class="math inline">\(\beta_{1} &gt;0\)</span> and <span class="math inline">\(\beta_{2} &lt;0\)</span> it has inverted u shape</p>
<ul>
<li><p>Effect of income on test scores is positive when income is low, and decreases as income gets larger</p></li>
<li><p>After certain point, effect becomes negative</p></li>
</ul></li>
<li><p>If <span class="math inline">\(\beta_{1} &lt;0\)</span> and <span class="math inline">\(\beta_{2} &gt;0\)</span> it has u shape</p>
<ul>
<li><p>Effect of income on test scores is negative when income is low, and increases as income gets larger</p></li>
<li><p>After certain point, effect becomes positive</p></li>
</ul></li>
</ul></li>
<li><p>Estimate this equation by OLS the same way as before</p></li>
<li><p>Estimated effect of income on test scores is <span class="math display">\[\frac{\Delta \hat{TestScore}_{i}}{\Delta Income_{i}} = \hat{\beta}_{1}+ 2\hat{\beta}_{2}Income_{i}\]</span></p></li>
</ul>
</section>
<section id="quadratic-functions-4" class="slide level2">
<h2>Quadratic Functions</h2>
<ul>
<li><p>Ex: estimated quadratic regression function <span class="math display">\[\hat{TestScore}_{i} = 607.3 + 3.85 Income - 0.0423 Income^2\]</span></p></li>
<li><p>Estimated effect of income on test scores is <span class="math display">\[\frac{\Delta\hat{TestScore}_{i}}{\Delta Income_{i}} = 3.85- 2(0.0423)Income_{i}\]</span></p></li>
</ul>
</section>
<section id="quadratic-functions-5" class="slide level2">
<h2>Quadratic Functions</h2>
<ul>
<li><p>Note how effect depends on level of income</p>
<ul>
<li><p>If income = 20,000 <span class="math display">\[\frac{\Delta \hat{TestScore}_{i}}{\Delta Income_{i}} = 3.85- 2(0.0423)(20) = 2.158\]</span></p></li>
<li><p>If income = 40,000 <span class="math display">\[\frac{\Delta \hat{TestScore}_{i}}{\Delta Income_{i}} = 3.85- 2(0.0423)(40) = 0.466\]</span></p></li>
<li><p>If income = 60,000 <span class="math display">\[\frac{\Delta \hat{TestScore}_{i}}{\Delta Income_{i}} = 3.85- 2(0.0423)(60) = -1.226\]</span></p></li>
</ul></li>
</ul>
</section>
<section id="quadratic-functions-6" class="slide level2">
<h2>Quadratic Functions</h2>
<ul>
<li><p>Slope is high at low values of income, then falls as income grows larger</p>
<ul>
<li>At very high income, effect is negative</li>
</ul></li>
<li><p>Function illustrated graphically on next slide</p></li>
<li><p>Several notable features</p>
<ul>
<li><p>Since <span class="math inline">\(\hat{\beta}_{1} &gt;0\)</span> and <span class="math inline">\(\hat{\beta}_{2} &lt;0\)</span> it has inverted u shape</p>
<ul>
<li><p>Effect initially steep and positive</p></li>
<li><p>Flattens as income goes higher</p></li>
<li><p>Becomes negative after a certain point</p></li>
</ul></li>
<li><p>Fits pattern of data much better</p>
<ul>
<li><p>Especially at the ends</p></li>
<li><p>Likely <span class="math inline">\(R^2\)</span> would be higher in this regression</p></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="quadratic-functions-7" class="slide level2">
<h2>Quadratic Functions</h2>

<img data-src="quad2.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="polynomial-functions" class="slide level2">
<h2>Polynomial Functions</h2>
<ul>
<li><p>We can allow for more flexibility in function with higher powers of <span class="math inline">\(X\)</span></p>
<ul>
<li><p>Ex: cubic, quartic, etc...</p></li>
<li><p>Call these functions polynomials</p></li>
</ul></li>
<li><p>A polynomial relationship between <span class="math inline">\(Y\)</span> and <span class="math inline">\(X\)</span> of degree r is <span class="math display">\[Y_{i} = \beta_{0} + \beta_{1}X_{i} + \beta_{2}X_{i}^2 + ... + \beta_{r}X_{i}^r +u_{i}\]</span></p>
<ul>
<li><p>The “r” determines highest power in function</p></li>
<li><p>When <span class="math inline">\(r=2\)</span> it is quadratic</p></li>
<li><p>When <span class="math inline">\(r=3\)</span> it is cubic</p></li>
</ul></li>
<li><p>Higher powers allow more bends in the function</p>
<ul>
<li>Can help fit data better</li>
</ul></li>
<li><p>Effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> is more complicated with higher polynomials</p></li>
</ul>
</section>
<section id="polynomial-functions-1" class="slide level2">
<h2>Polynomial Functions</h2>
<ul>
<li><p>Computing effect can be more difficult with higher powers</p></li>
<li><p>Ex: estimated quadratic function <span class="math display">\[\hat{Y}_{i} = \hat{\beta}_{0} + \hat{\beta}_{1}X_{i} + \hat{\beta}_{2}X_{i}^2\]</span> <span class="math display">\[\frac{\Delta \hat{Y}_{i}}{\Delta X_{i}} = \hat{\beta}_{1}+ 2\hat{\beta}_{2}X_{i}\]</span></p></li>
<li><p>Ex: estimated cubic function <span class="math display">\[\hat{Y}_{i} = \hat{\beta}_{0} + \hat{\beta}_{1}X_{i} + \hat{\beta}_{2}X_{i}^2 + \hat{\beta}_{3}X_{i}^3\]</span> <span class="math display">\[\frac{\Delta \hat{Y}_{i}}{\Delta X_{i}} = \hat{\beta}_{1}+ 2\hat{\beta}_{2}X_{i} + 3\hat{\beta}_{3}X_{i}^2\]</span></p></li>
<li><p>and so on</p></li>
</ul>
</section>
<section id="polynomial-functions-2" class="slide level2">
<h2>Polynomial Functions</h2>

<img data-src="poly.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="testing-null-that-the-regression-is-linear" class="slide level2">
<h2>Testing Null that the Regression is Linear</h2>
<ul>
<li><p>We can test between polynomial and linear functions</p></li>
<li><p>Procedure is to use an <span class="math inline">\(F\)</span>-test as discussed last chapter</p></li>
<li><p>First, estimate polynomial <span class="math display">\[Y_{i} = \beta_{0} + \beta_{1}X_{i} + \beta_{2}X_{i}^2 + ... + \beta_{r}X_{i}^r +u_{i}\]</span></p></li>
<li><p>Then test between these hypotheses</p>
<ul>
<li><p><span class="math inline">\(H_{0}: \beta_{2} = 0, \beta_{3} = 0, ..., \beta_{r} = 0\)</span></p></li>
<li><p><span class="math inline">\(H_{1}: \text{ at least one of }\beta_{2},\beta_{3}, ..., \beta_{r} \text{ is not zero}\)</span></p></li>
</ul></li>
<li><p>Accepting null means function is linear</p></li>
<li><p>Rejecting means it is nonlinear in some way</p></li>
</ul>
</section>
<section id="choosing-the-degree-of-polynomial" class="slide level2">
<h2>Choosing the Degree of Polynomial</h2>
<ul>
<li><p>Higher order polynomials increase flexibility of the regression</p></li>
<li><p>But, if irrelevant can increase standard errors</p>
<ul>
<li>Multicollinearity will reduce precision of other estimates</li>
</ul></li>
<li><p>Thus, it is important to properly specify degree of polynomial</p></li>
<li><p>Textbook suggests following procedure</p>
<ol type="1">
<li><p>Pick maximum value for <span class="math inline">\(r\)</span> and estimate regression</p></li>
<li><p>Test null that <span class="math inline">\(\beta_{r}\)</span> equals zero. If reject, keep in regression</p></li>
<li><p>If accept null in 2, reestimate with polynomial of degree <span class="math inline">\(r-1\)</span></p></li>
<li><p>Repeat 2-3 until you reject null hypothesis in 2</p></li>
</ol></li>
<li><p>This is sequentially pruning model to get right specification</p></li>
</ul>
</section>
<section id="logarithms" class="slide level2">
<h2>Logarithms</h2>
<ul>
<li><p>Common way to include nonlinearities is with logarithms</p></li>
<li><p>What is a logarithm?</p>
<ul>
<li><p>Logarithm of <span class="math inline">\(x\)</span> to base <span class="math inline">\(b\)</span> is the <span class="math inline">\(y\)</span> that solves <span class="math inline">\(b^{y} = x\)</span> <span class="math display">\[log_{b}(x) = y\]</span></p></li>
<li><p>Ex: If <span class="math inline">\(x\)</span> is 1000, and the base <span class="math inline">\(b\)</span> is 10, the logarithm of <span class="math inline">\(x\)</span> is the exponent that turns 10 into 1000 <span class="math display">\[log_{10}(1000) = 3\]</span></p></li>
<li><p>Increasing <span class="math inline">\(log_{10}(x)\)</span> by one unit is like multiplying <span class="math inline">\(x\)</span> by 10</p></li>
<li><p>10 is a common base, but it can be any number</p></li>
<li><p>Ex: Richter scale (for earthquakes) is a base-10 log scale</p></li>
</ul></li>
</ul>
</section>
<section id="logarithms-1" class="slide level2">
<h2>Logarithms</h2>
<table>
<caption>Base 10 Logarithm</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">x</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">1000</td>
<td style="text-align: center;">10000</td>
<td style="text-align: center;">100000</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(log_{10}(x)\)</span></td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">5</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Economists often use the <em>natural logarithm</em></p>
<ul>
<li><p>Logarithm with b equal to <span class="math inline">\(e = 2.71828\)</span></p></li>
<li><p>Often written as <span class="math inline">\(ln(x)\)</span></p></li>
<li><p>Increasing <span class="math inline">\(ln(x)\)</span> by one unit is like multiplying by 2.71828</p></li>
</ul></li>
<li><p>Natural logarithms have one key useful property</p>
<ul>
<li>Small changes in <span class="math inline">\(ln(x)\)</span> approximate a percentage change <span class="math display">\[100 \times (ln(x +\Delta x) - ln(x)) =100 \times \Delta ln(x)  \approx 100\times \left ( \frac{\Delta x}{x} \right )\]</span></li>
</ul></li>
</ul>
</section>
<section id="logarithms-2" class="slide level2">
<h2>Logarithms</h2>
<ul>
<li><p>Ex: let <span class="math inline">\(x = 100\)</span> and <span class="math inline">\(\Delta x = 1\)</span></p>
<ul>
<li><p>Actual percentage change is: <span class="math inline">\(100\times \left (\frac{101 - 100}{100} \right ) = 1\)</span></p></li>
<li><p>Log approximation is <span class="math inline">\(100 \times (ln(101) - ln(100)) = 100 \times (4.615 -4.605) =1\)</span></p></li>
</ul></li>
<li><p>Useful for expressing <span class="math inline">\(X\)</span>, <span class="math inline">\(Y\)</span>, or both in percentage terms</p>
<ul>
<li><p>If <span class="math inline">\(X\)</span> changes by 1 unit, what is percentage effect on <span class="math inline">\(Y\)</span>?</p></li>
<li><p>If <span class="math inline">\(X\)</span> changes by 1% , what is effect on <span class="math inline">\(Y\)</span>?</p></li>
<li><p>If <span class="math inline">\(X\)</span> changes by 1%, what is percentage effect on <span class="math inline">\(Y\)</span>?</p></li>
</ul></li>
<li><p>The inverse of a natural logarithm is the exponential function <span class="math display">\[x = e^{ln(x)}\]</span></p>
<ul>
<li>This will become useful in some situations</li>
</ul></li>
</ul>
</section>
<section id="log-linear-model" class="slide level2">
<h2>Log-Linear Model</h2>
<ul>
<li><p>A <strong>log-linear</strong> model is when <span class="math inline">\(Y\)</span> is in logs, but <span class="math inline">\(X\)</span> is not <span class="math display">\[ln(Y_{i}) = \beta_{0}+\beta_{1}X_{i} + u_{i}\]</span></p></li>
<li><p>Often used when measuring the return to education</p></li>
<li><p>A common population regression model in this context is <span class="math display">\[ln(wage) = \beta_{0} + \beta_{1}educ + u\]</span></p></li>
<li><p>The interpretation of <span class="math inline">\(\beta_{1}\)</span> is <span class="math display">\[\beta_{1} = \frac{\Delta ln(wage)}{\Delta educ}\]</span></p></li>
<li><p>Remember that <span class="math inline">\(100\times \Delta ln(wage)\)</span> is roughly equal to % change in wage</p></li>
</ul>
</section>
<section id="log-linear-model-1" class="slide level2">
<h2>Log-Linear Model</h2>
<ul>
<li><p>So if we multiply <span class="math inline">\(\beta_{1}\)</span> by 100 then <span class="math display">\[100\times \beta_{1} \approx \frac{\% \Delta wage}{\Delta educ}\]</span></p>
<ul>
<li><span class="math inline">\(100\times \beta_{1}\)</span> measures the % change in wage due to a 1-year increase in education</li>
</ul></li>
<li><p>Appropriate if each year of education has equal <em>proportional</em> change in wage</p>
<ul>
<li>Increasing education raises wage by same percentage</li>
</ul></li>
<li><p>In the general model <span class="math display">\[100\times \beta_{1} \approx \frac{\% \Delta Y_{i}}{\Delta X_{i}}\]</span></p></li>
</ul>
</section>
<section id="linear-log-model" class="slide level2">
<h2>Linear-Log Model</h2>
<ul>
<li><p>A <strong>linear-log</strong> model is when <span class="math inline">\(X\)</span> is in logs, but <span class="math inline">\(Y\)</span> is not <span class="math display">\[Y_{i} = \beta_{0}+\beta_{1}ln(X_{i}) + u_{i}\]</span></p></li>
<li><p>One application is the effect of GDP on life expectancy <span class="math display">\[expectancy= \beta_{0} + \beta_{1}ln(GDP) + u\]</span></p>
<ul>
<li><p>Appropriate if proportional changes in GDP have same effect on expectancy</p></li>
<li><p>Larger increases in GDP are needed to get same effect on expectancy as countries get richer</p></li>
</ul>
<p><span class="math display">\[\beta_{1} = \frac{\Delta expectancy}{\Delta ln(GDP)}\]</span></p></li>
</ul>
</section>
<section id="linear-log-model-1" class="slide level2">
<h2>Linear-Log Model</h2>
<ul>
<li><p>If we divide <span class="math inline">\(\beta_{1}\)</span> by 100 <span class="math display">\[\frac{\beta_{1}}{100} = \frac{\Delta expectancy}{100 \times \Delta ln(GDP)} = \frac{\Delta expectancy}{\% \Delta GDP}\]</span></p></li>
<li><p><span class="math inline">\(\frac{\beta_{1}}{100}\)</span> measures effect of 1% change in GDP on expectancy</p></li>
<li><p>In the general model <span class="math display">\[\frac{\beta_{1}}{100} = \frac{\Delta Y_{i}}{\% \Delta X_{i}}\]</span></p></li>
<li><p>It is relatively rare to see this model in practice</p></li>
</ul>
</section>
<section id="log-log-model" class="slide level2">
<h2>Log-Log Model</h2>
<ul>
<li><p>A <strong>log-log</strong> model is when both <span class="math inline">\(Y\)</span> and <span class="math inline">\(X\)</span> are in logs <span class="math display">\[ln(Y_{i}) = \beta_{0}+\beta_{1}ln(X_{i}) + u_{i}\]</span></p></li>
<li><p>This is used to estimate the <em>elasticity</em> between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></p></li>
<li><p>Suppose you want to know price elasticity of demand for ticket sales <span class="math display">\[ln(sales)= \beta_{0} + \beta_{1}ln(price) + u\]</span></p></li>
<li><p>In this case <span class="math display">\[\beta_{1} = \frac{\Delta ln(sales)}{\Delta ln(price)}\]</span></p></li>
</ul>
</section>
<section id="log-log-model-1" class="slide level2">
<h2>Log-Log Model</h2>
<ul>
<li><p>If we multiply and divide <span class="math inline">\(\beta_{1}\)</span> by 100 <span class="math display">\[\beta_{1} = \frac{100\times \Delta ln(sales)}{100 \times \Delta ln(price)} =  \frac{\% \Delta sales}{\% \Delta price}\]</span></p></li>
<li><p><span class="math inline">\(\beta_{1}\)</span> measures percent effect on ticket sales from a 1% increase in price</p>
<ul>
<li>This is the price elasticity of demand for ticket sales</li>
</ul></li>
<li><p>In the general model <span class="math display">\[\beta_{1} =  \frac{\% \Delta Y_{i}}{\% \Delta X_{i}}\]</span></p></li>
<li><p>Note that you do not need to alter <span class="math inline">\(\beta_{1}\)</span> before interpreting</p></li>
</ul>
</section>
<section id="visualizing-nonlinear-models" class="slide level2">
<h2>Visualizing Nonlinear Models</h2>

<img data-src="matrix.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="visualizing-nonlinear-models-1" class="slide level2">
<h2>Visualizing Nonlinear Models</h2>

<img data-src="loglinear.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="visualizing-nonlinear-models-2" class="slide level2">
<h2>Visualizing Nonlinear Models</h2>

<img data-src="linearlog.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="visualizing-nonlinear-models-3" class="slide level2">
<h2>Visualizing Nonlinear Models</h2>

<img data-src="linearlog2.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="visualizing-nonlinear-models-4" class="slide level2">
<h2>Visualizing Nonlinear Models</h2>

<img data-src="loglog.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="visualizing-nonlinear-models-5" class="slide level2">
<h2>Visualizing Nonlinear Models</h2>

<img data-src="comparelog.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="example-with-stata" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li><p>We continue above with the relationship between test scores and district income</p></li>
<li><p>Below we estimate various nonlinear functions of income</p>
<ul>
<li><p>Linear: <span class="math inline">\(TestScore_{i}= \beta_{0} + \beta_{1}Income_{i} + u_{i}\)</span></p></li>
<li><p>Quadratic: <span class="math inline">\(TestScore_{i}= \beta_{0} + \beta_{1}Income_{i} + \beta_{2}Income_{i}^2+ u_{i}\)</span></p></li>
<li><p>Log Linear: <span class="math inline">\(ln(TestScore_{i})= \beta_{0} + \beta_{1}Income_{i} + u_{i}\)</span></p></li>
<li><p>Linear Log: <span class="math inline">\(TestScore_{i}= \beta_{0} + \beta_{1}ln(Income_{i}) + u_{i}\)</span></p></li>
<li><p>Log Log: <span class="math inline">\(ln(TestScore_{i})= \beta_{0} + \beta_{1}ln(Income_{i}) + u_{i}\)</span></p></li>
</ul></li>
<li><p>We will interpret coefficients in each</p></li>
</ul>
</section>
<section id="example-with-stata-1" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li><p>First, create necessary variables</p></li>
<li><p>Then estimate regressions</p></li>
</ul>
<!-- -->
<pre><code>**Create variables we need for the regression;

    gen avginc2 = avginc^2;

    gen lntestscr = ln(testscr);
    gen lnavginc = ln(avginc);

**Estimate regressions;
    
    regress testscr avginc;
        estimates store linear;
        
    regress testscr avginc avginc2;
        estimates store quadratic;
        
    regress lntestscr avginc;
        estimates store loglinear;
        
    regress testscr lnavginc;
        estimates store linearlog;
        
    regress lntestscr lnavginc;
        estimates store loglog;</code></pre>
</section>
<section id="example-with-stata-2" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li>Export results in easy to read table</li>
</ul>
<!-- -->
<pre><code>.  estout linear quadratic linearlog loglinear loglog, cells(b(star fmt(3)) 
    se(par fmt(3))) starlevels(* 0.05 ** 0.01 ) stats(r2 r2_a rmse N,fmt(3 3 3 0 ));

---------------------------------------------------------------------------------------
                   linear      quadratic      linearlog      loglinear         loglog  
                     b/se           b/se           b/se           b/se           b/se  
---------------------------------------------------------------------------------------
avginc              1.879**        3.851**                       0.003**               
                  (0.091)        (0.304)                       (0.000)                 
avginc2                           -0.042**                                             
                                 (0.006)                                               
lnavginc                                         36.420**                       0.055**
                                                (1.571)                       (0.002)  
_cons             625.384**      607.302**      557.832**        6.439**        6.336**
                  (1.532)        (3.046)        (4.200)        (0.002)        (0.006)  
---------------------------------------------------------------------------------------
r2                  0.508          0.556          0.563          0.498          0.558  
r2_a                0.506          0.554          0.561          0.497          0.557  
rmse               13.387         12.724         12.618          0.021          0.019  
N                     420            420            420            420            420  
---------------------------------------------------------------------------------------</code></pre>
</section>
<section id="example-with-stata-3" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li><p>Linear model</p>
<ul>
<li>Income increases by $1000, test scores increase by 1.879 points</li>
</ul></li>
<li><p>Quadratic model</p>
<ul>
<li><p><span class="math inline">\(\frac{\Delta TestScore}{\Delta Income} = 3.851-2(0.042)Income\)</span></p></li>
<li><p>When Income = 0, if income increases by $1000, test scores increase by 3.851 points</p></li>
<li><p><span class="math inline">\(\frac{\Delta TestScore}{\Delta Income}\)</span> is smaller by 2(0.042) with each $1000 in income</p></li>
<li><p>When Income = 50000, if income increases by $1000, test scores fall by 3.851-2(0.042)50 = -0.349 points</p></li>
</ul></li>
<li><p>Linear Log model</p>
<ul>
<li><p><span class="math inline">\(\frac{\beta_{1}}{100} = \frac{\Delta TestScore}{\% \Delta Income}\)</span></p></li>
<li><p><span class="math inline">\(\frac{\beta_{1}}{100} = \frac{36.420}{100} = 0.364\)</span></p></li>
<li><p>Income increases by 1%, test scores rise by 0.364 points</p></li>
</ul></li>
</ul>
</section>
<section id="example-with-stata-4" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li><p>Log Linear model</p>
<ul>
<li><p><span class="math inline">\(100\beta_{1} = \frac{\% \Delta TestScore}{\Delta Income}\)</span></p></li>
<li><p><span class="math inline">\(100\beta_{1} = 100(0.003) = 0.3\)</span></p></li>
<li><p>Income increases by $1000, test scores rise by 0.3%</p></li>
</ul></li>
<li><p>Log Log model</p>
<ul>
<li><p><span class="math inline">\(\beta_{1} = \frac{\% \Delta TestScore}{\% \Delta Income}\)</span></p></li>
<li><p><span class="math inline">\(\beta_{1} = 0.055\)</span></p></li>
<li><p>Income increases by 1%, test scores rise by 0.055%</p></li>
<li><p>This is the elasticity of test scores with respect to income</p></li>
</ul></li>
</ul>
</section></section>
<section>
<section id="interactions-between-variables" class="title-slide slide level1 center">
<h1>Interactions Between Variables</h1>

</section>
<section id="introduction-4" class="slide level2">
<h2>Introduction</h2>
<ul>
<li><p>Quadratics allowed effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> to depend on <span class="math inline">\(X\)</span></p>
<ul>
<li>Ex: Effect of experience on wages depends on current experience</li>
</ul></li>
<li><p>We can also allow effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> to depend on third variable <span class="math inline">\(Z\)</span></p>
<ul>
<li><p>Ex: Effect of experience on wages may depend on education</p></li>
<li><p>Ex: Effect of experience on wages may depend on gender</p></li>
</ul></li>
<li><p>We allow for this dependence with interaction terms</p>
<ul>
<li>The product of two independent variables</li>
</ul></li>
<li><p>In this section we study variable interactions</p>
<ul>
<li><p>Between dummies and continuous variables</p></li>
<li><p>Also between continuous variables</p></li>
</ul></li>
</ul>
</section>
<section id="model-with-multiple-dummy-variables" class="slide level2">
<h2>Model with Multiple Dummy Variables</h2>
<ul>
<li><p>First, we examine a model with two dummy variables but no interaction</p></li>
<li><p>Suppose we are interested in the effect of gender and marriage on wages <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i} + \beta_{2}marr_{i} + u_{i}\]</span></p></li>
<li><p>In this model,</p>
<ul>
<li><p><span class="math inline">\(fem_{i} = 1\)</span> for women, and zero otherwise</p></li>
<li><p><span class="math inline">\(marr_{i}=1\)</span> if married, and zero otherwise</p></li>
</ul></li>
<li><p>How do we interpret the parameters of this model?</p></li>
</ul>
</section>
<section id="model-with-multiple-dummy-variables-1" class="slide level2">
<h2>Model with Multiple Dummy Variables</h2>
<ul>
<li><p>As before, look at population regression function</p>
<ul>
<li><p>When <span class="math inline">\(fem_{i} =1\)</span> and <span class="math inline">\(marr_{i} = 1\)</span> <span class="math display">\[E[wage_{i}|fem_{i}=1,marr_{i}=1] =  \beta_{0} + \beta_{1}+ \beta_{2}\]</span></p></li>
<li><p>When <span class="math inline">\(fem_{i} =1\)</span> and <span class="math inline">\(marr_{i} = 0\)</span> <span class="math display">\[E[wage_{i}|fem_{i}=1,marr_{i}=0] =  \beta_{0} + \beta_{1}\]</span></p></li>
<li><p>When <span class="math inline">\(fem_{i} =0\)</span> and <span class="math inline">\(marr_{i} = 1\)</span> <span class="math display">\[E[wage_{i}|fem_{i}=0,marr_{i}=1] =  \beta_{0} + \beta_{2}\]</span></p></li>
<li><p>When <span class="math inline">\(fem_{i} =0\)</span> and <span class="math inline">\(marr_{i} = 0\)</span> <span class="math display">\[E[wage_{i}|fem_{i}=0,marr_{i}=0] =  \beta_{0}\]</span></p></li>
</ul></li>
</ul>
</section>
<section id="model-with-multiple-dummy-variables-2" class="slide level2">
<h2>Model with Multiple Dummy Variables</h2>
<ul>
<li><p><span class="math inline">\(\beta_{0}\)</span> is average wage when male, unmarried <span class="math display">\[E[wage_{i}|fem_{i}=0,marr_{i}=0] =  \beta_{0}\]</span></p></li>
<li><p><span class="math inline">\(\beta_{1}\)</span> is difference between unmarried woman and unmarried man <span class="math display">\[E[wage_{i}|fem_{i}=1,marr_{i}=0]  - E[wage_{i}|fem_{i}=0,marr_{i}=0]\]</span> <span class="math display">\[= \beta_{0} + \beta_{1} -  \beta_{0}\]</span> <span class="math display">\[= \beta_{1}\]</span></p></li>
<li><p><span class="math inline">\(\beta_{1}\)</span> <u>also</u> difference between married woman and married man <span class="math display">\[E[wage_{i}|fem_{i}=1,marr_{i}=1]  - E[wage_{i}|fem_{i}=0,marr_{i}=1]\]</span> <span class="math display">\[=  \beta_{0} + \beta_{1}+ \beta_{2} - (\beta_{0} + \beta_{2})\]</span> <span class="math display">\[= \beta_{1}\]</span></p></li>
</ul>
</section>
<section id="model-with-multiple-dummy-variables-3" class="slide level2">
<h2>Model with Multiple Dummy Variables</h2>
<ul>
<li><p>Model imposes that female-male difference does not depend on marriage</p>
<ul>
<li>It is equal to <span class="math inline">\(\beta_{1}\)</span> regardless of marital status</li>
</ul></li>
<li><p><span class="math inline">\(\beta_{2}\)</span> is married-unmarried difference</p>
<ul>
<li>Like before, difference does not depend on gender</li>
</ul>
<p><span class="math display">\[E[wage_{i}|fem_{i}=0,marr_{i}=1] - E[wage_{i}|fem_{i}=0,marr_{i}=0]\]</span> <span class="math display">\[=  \beta_{0} + \beta_{2} -  \beta_{0}\]</span> <span class="math display">\[=  \beta_{2}\]</span> <span class="math display">\[E[wage_{i}|fem_{i}=1,marr_{i}=1] - E[wage_{i}|fem_{i}=1,marr_{i}=0]\]</span> <span class="math display">\[=  \beta_{0} + \beta_{1}+ \beta_{2} - (\beta_{0} + \beta_{1})\]</span> <span class="math display">\[=  \beta_{2}\]</span></p></li>
</ul>
</section>
<section id="model-with-multiple-dummy-variables-4" class="slide level2">
<h2>Model with Multiple Dummy Variables</h2>
<ul>
<li><p>In total model has four intercepts</p>
<ul>
<li><p>married women: <span class="math inline">\(\beta_{0} + \beta_{1}+ \beta_{2}\)</span></p></li>
<li><p>unmarried women: <span class="math inline">\(\beta_{0} + \beta_{1}\)</span></p></li>
<li><p>married men: <span class="math inline">\(\beta_{0} + \beta_{2}\)</span></p></li>
<li><p>unmarried men: <span class="math inline">\(\beta_{0}\)</span></p></li>
</ul></li>
<li><p>Key limitation is female/male differences do not depend on marriage</p></li>
<li><p>Also, married/unmarried differences do not depend on gender</p></li>
<li><p>Both of these restrictions are specific to this model</p>
<ul>
<li>We can relax them with interaction terms</li>
</ul></li>
</ul>
</section>
<section id="example-with-stata-5" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li><p>As an example, we study the determinants of wages</p></li>
<li><p>We are using the 2011 Survey of Labour and Income Dynamics (SLID)</p>
<ul>
<li><p>Canadian survey on workers in Canada</p></li>
<li><p>Information on earnings, work hours, demographics, jobs</p></li>
<li><p>Follows people across time</p></li>
<li><p>We use the 2011 survey only</p></li>
</ul></li>
<li><p>There are about 47,000 observations total</p>
<ul>
<li>We use a subset of about 16,000</li>
</ul></li>
<li><p>Drop a few values due to missing information on education</p></li>
<li><p>The datafile and dofile are posted to mylearningspace</p>
<ul>
<li><p>Datafile: <strong>slid.dta</strong></p></li>
<li><p>Dofile: <strong>EC295 nonlinear regression part 2.do</strong></p></li>
</ul></li>
</ul>
</section>
<section id="example-with-stata-6" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li>Suppose we regress wages on a female and married dummy <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i}+ \beta_{2}marr_{i} + u_{i}\]</span></li>
</ul>
<!-- -->
<pre><code>Linear regression                               Number of obs     =     15,817
                                                F(2, 15814)       =     466.21
                                                Prob &gt; F          =     0.0000
                                                R-squared         =     0.0590
                                                Root MSE          =     13.432

------------------------------------------------------------------------------
             |               Robust
    cmphrw28 |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      female |  -4.245531   .2110128   -20.12   0.000     -4.65914   -3.831921
     married |   5.093432   .2080484    24.48   0.000     4.685633    5.501231
       _cons |   25.74684   .1798452   143.16   0.000     25.39432    26.09935
------------------------------------------------------------------------------</code></pre>
</section>
<section id="example-with-stata-7" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li><p>Based on these estimates</p>
<ul>
<li><p>Women earn $4.25 less than men, on average</p></li>
<li><p>Married people earn $5.09 more than unmarried, on average</p></li>
<li><p>Different intercepts are</p>
<ul>
<li><p>Unmarried men: <span class="math inline">\(\hat{\beta}_{0} = 25.75\)</span></p></li>
<li><p>Unmarried women: <span class="math inline">\(\hat{\beta}_{0} + \hat{\beta}_{1} = 25.75-4.25 = 21.50\)</span></p></li>
<li><p>Married men: <span class="math inline">\(\hat{\beta}_{0} + \hat{\beta}_{2} = 25.75+5.09 = 30.84\)</span></p></li>
<li><p>Married women: <span class="math inline">\(\hat{\beta}_{0}+ \hat{\beta}_{1} +\hat{\beta}_{2}= 25.75- 4.25+5.09 = 26.59\)</span></p></li>
</ul></li>
<li><p>Notice female/male difference is <span class="math inline">\(-4.25\)</span> regardless of marital status</p></li>
<li><p>Also married/unmarried difference is <span class="math inline">\(5.09\)</span> regardless of gender</p></li>
</ul></li>
</ul>
</section>
<section id="interactions-among-dummy-variables" class="slide level2">
<h2>Interactions Among Dummy Variables</h2>
<ul>
<li><p>Recall the model <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i} +\beta_{2}marr_{i} + u_{i}\]</span></p>
<ul>
<li><p>The female-male difference is measured by <span class="math inline">\(\beta_{1}\)</span></p></li>
<li><p>The married-unmarried difference is measured by <span class="math inline">\(\beta_{2}\)</span></p></li>
</ul></li>
<li><p>A key limitation of this model was that</p>
<ul>
<li><p>The female-male difference did not depend on marital status</p></li>
<li><p>The married-unmarried difference did not depend on gender</p></li>
</ul></li>
<li><p>Interacting the two variables changes that interpretation</p></li>
</ul>
</section>
<section id="interactions-among-dummy-variables-1" class="slide level2">
<h2>Interactions Among Dummy Variables</h2>
<ul>
<li><p>Suppose we add an interaction between <span class="math inline">\(fem_{i}\)</span> and <span class="math inline">\(marr_{i}\)</span> <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i} +\beta_{2}marr_{i} +\beta_{3}(fem_{i}\times marr_{i}) + u_{i}\]</span></p></li>
<li><p>Now suppose we measure the female-male difference</p>
<p><span class="math display">\[E[wage_{i}|marr_{i} , fem_{i} = 1]  - E[wage_{i}|marr_{i} , fem_{i} =0]\]</span> <span class="math display">\[= ( \beta_{0} + \beta_{1} + \beta_{2}marr_{i} +\beta_{3}marr_{i} )\]</span> <span class="math display">\[-  (\beta_{0}  + \beta_{2}marr_{i} )\]</span> <span class="math display">\[= \beta_{1} + \beta_{3}marr_{i}\]</span></p></li>
<li><p>Now, the female-male gap <em>depends</em> on the marital status</p>
<ul>
<li>The gap is different depending on value of <span class="math inline">\(marr_{i}\)</span></li>
</ul></li>
</ul>
</section>
<section id="interactions-among-dummy-variables-2" class="slide level2">
<h2>Interactions Among Dummy Variables</h2>
<ul>
<li><p>To see this, compute the female-male gap for unmarried and married</p>
<ul>
<li><p>For unmarried people <span class="math display">\[E[wage_{i}|fem_{i}=1,marr_{i}=0]  - E[wage_{i}|fem_{i}=0,marr_{i}=0]\]</span> <span class="math display">\[= \beta_{0} + \beta_{1} -  \beta_{0}\]</span> <span class="math display">\[= \beta_{1}\]</span></p></li>
<li><p>For married people <span class="math display">\[E[wage_{i}|fem_{i}=1,marr_{i}=1]  - E[wage_{i}|fem_{i}=0,marr_{i}=1]\]</span> <span class="math display">\[=  \beta_{0} + \beta_{1}+ \beta_{2} + \beta_{3} - (\beta_{0} + \beta_{2})\]</span> <span class="math display">\[= \beta_{1} + \beta_{3}\]</span></p></li>
</ul></li>
</ul>
</section>
<section id="interactions-among-dummy-variables-3" class="slide level2">
<h2>Interactions Among Dummy Variables</h2>
<ul>
<li><p>Likewise, married unmarried gap depends on gender <span class="math display">\[E[wage_{i}|marr_{i} = 1 , fem_{i} ]  - E[wage_{i}|marr_{i}=0 , fem_{i}]\]</span> <span class="math display">\[=( \beta_{0} + \beta_{1}fem_{i} + \beta_{2} +\beta_{3}fem_{i} )  -  (\beta_{0}  + \beta_{1}fem_{i}  )\]</span></p>
<p><span class="math display">\[=  \beta_{2}+\beta_{3}fem_{i}\]</span></p>
<ul>
<li><p>marriage gap for men is <span class="math display">\[E[wage_{i}|marr_{i} = 1 , fem_{i} = 0 ]  - E[wage_{i}|marr_{i}=0 , fem_{i} = 0]\]</span> <span class="math display">\[=  \beta_{2}\]</span></p></li>
<li><p>Marriage gap for women is <span class="math display">\[E[wage_{i}|marr_{i} = 1 , fem_{i} = 1 ]  - E[wage_{i}|marr_{i}=0 , fem_{i} = 1]\]</span> <span class="math display">\[=  \beta_{2} + \beta_{3}\]</span></p></li>
</ul></li>
</ul>
</section>
<section id="interactions-among-dummy-variables-4" class="slide level2">
<h2>Interactions Among Dummy Variables</h2>
<ul>
<li><p>To summarize, interacting dummies allows for</p>
<ul>
<li><p>Different intercepts for all groups</p></li>
<li><p>Differences in intercepts depend on group status</p></li>
</ul></li>
<li><p>The different intercepts of this model are</p>
<ul>
<li><p>Unmarried men: <span class="math inline">\(\beta_{0}\)</span></p></li>
<li><p>Unmarried women: <span class="math inline">\(\beta_{0} + \beta_{1}\)</span></p></li>
<li><p>Married men: <span class="math inline">\(\beta_{0} + \beta_{2}\)</span></p></li>
<li><p>Married women: <span class="math inline">\(\beta_{0} + \beta_{1} + \beta_{2}+ \beta_{3}\)</span></p></li>
</ul></li>
</ul>
</section>
<section id="interactions-among-dummy-variables-5" class="slide level2">
<h2>Interactions Among Dummy Variables</h2>
<ul>
<li><p>The interpretations for each are as follows</p>
<ul>
<li><p><span class="math inline">\(\beta_{1}\)</span>: difference between unmarried women and unmarried men</p></li>
<li><p><span class="math inline">\(\beta_{2}\)</span>: difference between married men and unmarried men</p></li>
<li><p><span class="math inline">\(\beta_{3}\)</span>: more complicated</p>
<ul>
<li><p>Gender gap for married people minus gender gap for unmarried people</p></li>
<li><p>Marriage gap for women minus marriage gap for men</p></li>
<li><p>Measures how gender gap depends on marriage, and how marriage gap depends on gender</p></li>
<li><p>It is sometimes called the <strong>difference in differences</strong></p></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="example-with-stata-8" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li>Suppose we interact female and married <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i} +\beta_{2}marr_{i} +\beta_{3}(fem_{i}\times marr_{i}) + u_{i}\]</span></li>
</ul>
<!-- -->
<pre><code>.  gen female_married = female*married;
.  regress cmphrw28 female married female_married, robust  ;


Linear regression                               Number of obs     =     15,817
                                                F(3, 15813)       =     313.66
                                                Prob &gt; F          =     0.0000
                                                R-squared         =     0.0645
                                                Root MSE          =     13.393

--------------------------------------------------------------------------------
               |               Robust
      cmphrw28 |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
---------------+----------------------------------------------------------------
        female |  -1.911665   .2772196    -6.90   0.000    -2.455047   -1.368283
       married |   7.098604   .3130463    22.68   0.000     6.484998    7.712211
female_married |  -4.143398    .412491   -10.04   0.000    -4.951927   -3.334868
         _cons |   24.57583   .2062195   119.17   0.000     24.17162    24.98005
--------------------------------------------------------------------------------</code></pre>
</section>
<section id="example-with-stata-9" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li><p>In this model,</p>
<ul>
<li><p>female-male wage gap is <span class="math inline">\(\beta_{1}+ \beta_{3}marr_{i}\)</span></p></li>
<li><p>married-unmarried wage gap is <span class="math inline">\(\beta_{2}+ \beta_{3}fem_{i}\)</span></p></li>
</ul></li>
<li><p>Based on these results</p>
<ul>
<li><p><span class="math inline">\(\beta_{1} = -1.92\)</span> wage gap between female and male unmarried people</p></li>
<li><p><span class="math inline">\(\beta_{2} = 7.09\)</span>: wage gap between married and unmarried men</p></li>
<li><p><span class="math inline">\(\beta_{3} = -4.14\)</span>:</p>
<ul>
<li><p><em>difference</em> in gender gap between married and unmarried</p></li>
<li><p>It is also <em>difference</em> in marriage gap between women and men</p></li>
</ul></li>
</ul></li>
<li><p>Note how <span class="math inline">\(\beta_{3}\)</span> measures change in gender gap for married, and also change in marriage gap for women</p></li>
</ul>
</section>
<section id="models-with-dummy-and-continuous-variables" class="slide level2">
<h2>Models with Dummy and Continuous Variables</h2>
<ul>
<li><p>Suppose we are interested in estimating</p>
<p><span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i} + \beta_{2}educ_{i} + u_{i}\]</span></p>
<ul>
<li><p><span class="math inline">\(wage_{i}\)</span> is an individual’s wage in dollars</p></li>
<li><p><span class="math inline">\(fem_{i}\)</span> is a dummy variable equal to 1 if female, 0 if male</p></li>
<li><p><span class="math inline">\(educ_{i}\)</span> is total years of schooling</p></li>
</ul></li>
<li><p>The model contains one dummy, one continuous independent variable</p></li>
<li><p>To understand interpretation of <span class="math inline">\(\beta_{1}\)</span>, take expected value <span class="math display">\[E[wage_{i}|fem_{i},educ_{i}] = \beta_{0} + \beta_{1}fem_{i} + \beta_{2}educ_{i}\]</span></p></li>
</ul>
</section>
<section id="models-with-dummy-and-continuous-variables-1" class="slide level2">
<h2>Models with Dummy and Continuous Variables</h2>
<ul>
<li><p>When <span class="math inline">\(fem_{i}\)</span> = 1 <span class="math display">\[E[wage_{i}|fem_{i} = 1,educ_{i}] = \beta_{0} + \beta_{1}+ \beta_{2}educ_{i}\]</span></p></li>
<li><p>When <span class="math inline">\(fem_{i}\)</span>= 0 <span class="math display">\[E[wage_{i}|fem_{i} = 0,educ_{i}] = \beta_{0}  + \beta_{2}educ_{i}\]</span></p></li>
<li><p>Taking the difference <span class="math display">\[E[wage_{i}|fem_{i} = 1,educ_{i}]  - E[wage_{i}|fem_{i} = 0,educ_{i}] =\]</span> <span class="math display">\[(\beta_{0} + \beta_{1}+ \beta_{2}educ_{i}) -  (\beta_{0}  + \beta_{2}educ_{i} ) =\beta_{1}\]</span></p></li>
<li><p><span class="math inline">\(\beta_{1}\)</span> is difference in average wage between women and men <span class="math display">\[\beta_{1} = E[wage_{i}|fem_{i} = 1,educ_{i}]  - E[wage_{i}|fem_{i} = 0,educ_{i}]\]</span></p></li>
</ul>
</section>
<section id="models-with-dummy-and-continuous-variables-2" class="slide level2">
<h2>Models with Dummy and Continuous Variables</h2>
<ul>
<li><p>Notice that in expectation, we are holding education constant</p>
<ul>
<li><p>Level of education is same in both expectations</p></li>
<li><p><span class="math inline">\(\beta_{1}\)</span> measures gender difference <em>at each level of education</em></p></li>
</ul></li>
<li><p>Can view <span class="math inline">\(\beta_{1}\)</span> as an <strong>intercept shift</strong></p>
<ul>
<li><p>Intercept <span class="math inline">\(\beta_{0}\)</span> is <span class="math inline">\(wage\)</span> when independent variables are zero</p>
<p><span class="math display">\[E[wage_{i}|fem_{i} = 0,educ_{i}=0] = \beta_{0}\]</span></p></li>
<li><p>In this model, it is average wages of male with zero education</p></li>
<li><p>Average wage of woman with no education is <span class="math display">\[E[wage_{i}|fem_{i} = 1,educ_{i}=0] = \beta_{0} + \beta_{1}\]</span></p></li>
<li><p>So, <span class="math inline">\(\beta_{1}\)</span> measures how average wage with no education changes between women and men</p>
<ul>
<li>This allows different intercepts between men and women</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="models-with-dummy-and-continuous-variables-3" class="slide level2">
<h2>Models with Dummy and Continuous Variables</h2>

<img data-src="interceptshift.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="interactions-between-continuous-and-dummy-variables" class="slide level2">
<h2>Interactions Between Continuous and Dummy Variables</h2>
<ul>
<li><p>We just saw how to allow for intercepts between groups</p>
<ul>
<li>Adding dummy variable for the group</li>
</ul></li>
<li><p>We can also allow for the <em>slopes</em> to depend on groups</p></li>
<li><p>Suppose we interact <em>female</em> with <em>educ</em> <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i} + \beta_{2}educ_{i} +\beta_{3}(fem_{i} \times educ_{i})+ u_{i}\]</span></p></li>
<li><p>The effect of <span class="math inline">\(educ_{i}\)</span> on <span class="math inline">\(E[wage_{i}|fem_{i},educ_{i}]\)</span> is measured by</p>
<p><span class="math display">\[\frac{\Delta E[wage_{i}|fem_{i},educ_{i}] }{\Delta educ_{i}} =  \beta_{2} + \beta_{3}fem_{i}\]</span></p></li>
</ul>
</section>
<section id="interactions-between-continuous-and-dummy-variables-1" class="slide level2">
<h2>Interactions Between Continuous and Dummy Variables</h2>
<ul>
<li><p>In this setup</p>
<ul>
<li><p><span class="math inline">\(\beta_{2}\)</span> measures effect of <span class="math inline">\(educ_{i}\)</span> on <span class="math inline">\(wage_{i}\)</span> when <span class="math inline">\(fem_{i} = 0\)</span></p>
<ul>
<li>Slope between educ and wage for men</li>
</ul></li>
<li><p><span class="math inline">\(\beta_{2}+\beta_{3}\)</span> measures effect of <span class="math inline">\(educ_{i}\)</span> on <span class="math inline">\(wage_{i}\)</span> when <span class="math inline">\(fem_{i} = 1\)</span></p>
<ul>
<li>Slope between educ and wage for women</li>
</ul></li>
<li><p><span class="math inline">\(\beta_{3}\)</span> is <em>difference</em> in slope between women and men</p></li>
</ul></li>
<li><p>Interacting a dummy with continuous variable allows for different slopes between groups</p></li>
<li><p>With a dummy variable on its own, and interacted with continuous variable, we allow different intercept <em>and</em> slope</p>
<ul>
<li><p>Dummy allows for different intercept</p></li>
<li><p>Interaction with dummy allows for different slope</p></li>
</ul></li>
</ul>
</section>
<section id="interactions-between-continuous-and-dummy-variables-2" class="slide level2">
<h2>Interactions Between Continuous and Dummy Variables</h2>

<img data-src="slopeinterceptshift.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="interactions-between-continuous-and-dummy-variables-3" class="slide level2">
<h2>Interactions Between Continuous and Dummy Variables</h2>
<ul>
<li><p>In rare cases, you can also estimate a model with the same intercept, but different slopes <span class="math display">\[wage_{i} = \beta_{0}  + \beta_{2}educ_{i} +\beta_{3}(fem_{i} \times educ_{i})+ u_{i}\]</span></p>
<ul>
<li><p>Excludes the dummy variable on its own</p></li>
<li><p>This eliminates the intercept shift</p></li>
</ul></li>
<li><p>In this setup</p>
<ul>
<li><p><span class="math inline">\(\beta_{0}\)</span> is the intercept for men and women</p></li>
<li><p><span class="math inline">\(\beta_{2}\)</span> measures slope on <span class="math inline">\(educ_{i}\)</span> for men</p></li>
<li><p><span class="math inline">\(\beta_{2}+\beta_{3}\)</span> measures slope on <span class="math inline">\(educ_{i}\)</span> for women</p></li>
<li><p><span class="math inline">\(\beta_{3}\)</span> is <em>difference</em> in slope between women and men</p></li>
</ul></li>
</ul>
</section>
<section id="interactions-between-continuous-and-dummy-variables-4" class="slide level2">
<h2>Interactions Between Continuous and Dummy Variables</h2>

<img data-src="slopeshift.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="example-with-stata-10" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li>A model with intercept shift but same slopes would be <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i} + \beta_{2}educ_{i} + u_{i}\]</span></li>
</ul>
<!-- -->
<pre><code>.  regress cmphrw28 female yrschl18, robust  ;

Linear regression                               Number of obs     =     15,817
                                                F(2, 15814)       =    1342.07
                                                Prob &gt; F          =     0.0000
                                                R-squared         =     0.1918
                                                Root MSE          =     12.448

------------------------------------------------------------------------------
             |               Robust
    cmphrw28 |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      female |  -5.310934   .1987372   -26.72   0.000    -5.700481   -4.921386
    yrschl18 |   2.078491   .0424539    48.96   0.000     1.995277    2.161706
       _cons |   .3170835   .5522942     0.57   0.566    -.7654761    1.399643
------------------------------------------------------------------------------</code></pre>
</section>
<section id="example-with-stata-11" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li>A model with intercept shift and different slopes is <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i} + \beta_{2}educ_{i} +\beta_{3}(fem_{i} \times educ_{i})+ u_{i}\]</span></li>
</ul>
<!-- -->
<pre><code>. gen female_yrschl18 = female*yrschl18;
.  regress cmphrw28 female yrschl18 female_yrschl18, robust  ;

Linear regression                               Number of obs     =     15,817
                                                F(3, 15813)       =    1030.03
                                                Prob &gt; F          =     0.0000
                                                R-squared         =     0.1918
                                                Root MSE          =     12.449

---------------------------------------------------------------------------------
                |               Robust
       cmphrw28 |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
         female |   -5.43323   1.093145    -4.97   0.000     -7.57592   -3.290541
       yrschl18 |   2.074593   .0628544    33.01   0.000     1.951391    2.197794
female_yrschl18 |   .0088005   .0830051     0.11   0.916     -.153899    .1715001
          _cons |   .3703632    .813796     0.46   0.649     -1.22477    1.965496
---------------------------------------------------------------------------------</code></pre>
</section>
<section id="example-with-stata-12" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li>A model with same intercepts but different slopes is <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}fem_{i} + \beta_{2}educ_{i} +\beta_{3}(fem_{i} \times educ_{i})+ u_{i}\]</span></li>
</ul>
<!-- -->
<pre><code>. regress cmphrw28 yrschl18 female_yrschl18, robust  ;

Linear regression                               Number of obs     =     15,817
                                                F(2, 15814)       =    1266.52
                                                Prob &gt; F          =     0.0000
                                                R-squared         =     0.1904
                                                Root MSE          =     12.459

---------------------------------------------------------------------------------
                |               Robust
       cmphrw28 |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
       yrschl18 |   2.238699   .0447701    50.00   0.000     2.150944    2.326454
female_yrschl18 |  -.3678847   .0152029   -24.20   0.000    -.3976841   -.3380852
          _cons |  -1.966818   .5616236    -3.50   0.000    -3.067664   -.8659719
---------------------------------------------------------------------------------</code></pre>
</section>
<section id="interactions-between-continuous-variables" class="slide level2">
<h2>Interactions Between Continuous Variables</h2>
<ul>
<li><p>The final type of interaction is between two continuous variables</p></li>
<li><p>Suppose we are interested in <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}exper_{i} + \beta_{2}educ_{i}+  \beta_{3}(exper_{i} \times educ_{i}) + u_{i}\]</span></p>
<ul>
<li><p><span class="math inline">\(wage_{i}\)</span> is an individual’s wage in dollars</p></li>
<li><p><span class="math inline">\(exper_{i}\)</span> is experience in years</p></li>
<li><p><span class="math inline">\(educ_{i}\)</span> is total years of schooling</p></li>
</ul></li>
<li><p>This model allows effect of experience to depend on education</p>
<ul>
<li>Also effect of education to depend on experience</li>
</ul></li>
</ul>
</section>
<section id="interactions-between-continuous-variables-1" class="slide level2">
<h2>Interactions Between Continuous Variables</h2>
<ul>
<li><p>To see this, compute change in wage with experience <span class="math display">\[\frac{\Delta E[wage_{i}|exper_{i},educ_{i}] }{\Delta exper_{i}} =  \beta_{1} + \beta_{3}educ_{i}\]</span></p></li>
<li><p>There are two components to the effect</p>
<ul>
<li><p><span class="math inline">\(\beta_{1}\)</span>: effect of experience on wages when education is zero</p></li>
<li><p><span class="math inline">\(\beta_{3}\)</span>: change in the effect with each additional year of education</p></li>
</ul></li>
<li><p>The effect of education on wages is <span class="math display">\[\frac{\Delta E[wage_{i}|exper_{i},educ_{i}] }{\Delta educ_{i}} =  \beta_{2} + \beta_{3}exper_{i}\]</span></p>
<ul>
<li><p><span class="math inline">\(\beta_{2}\)</span>: effect of education on wages when experience is zero</p></li>
<li><p><span class="math inline">\(\beta_{3}\)</span>: change in the effect with each additional year of experience</p></li>
</ul></li>
</ul>
</section>
<section id="example-with-stata-13" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li>A model with interactions between experience and earnings is <span class="math display">\[wage_{i} = \beta_{0} + \beta_{1}exper_{i} + \beta_{2}educ_{i}+  \beta_{3}(exper_{i} \times educ_{i}) + u_{i}\]</span></li>
</ul>
<!-- -->
<pre><code>.  gen yrxfte11_yrschl18 = yrxfte11*yrschl18;
.  regress cmphrw28 yrxfte11 yrschl18 yrxfte11_yrschl18, robust  ;

Linear regression                               Number of obs     =     15,817
                                                F(3, 15813)       =    1094.72
                                                Prob &gt; F          =     0.0000
                                                R-squared         =     0.2265
                                                Root MSE          =     12.179

-----------------------------------------------------------------------------------
                  |               Robust
         cmphrw28 |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
         yrxfte11 |  -.1525336   .0462564    -3.30   0.001    -.2432013   -.0618658
         yrschl18 |   1.531803   .0675118    22.69   0.000     1.399472    1.664134
yrxfte11_yrschl18 |    .033486   .0036474     9.18   0.000     .0263366    .0406355
            _cons |  -.5684791   .9001661    -0.63   0.528    -2.332907    1.195949
-----------------------------------------------------------------------------------</code></pre>
</section>
<section id="example-with-stata-14" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li>Here are all the results from the regressions together</li>
</ul>
<!-- -->
<pre><code> estout dummy dummyinteract intershift interslopeshift slopeshift continteract, 
 cells(b(star fmt(3)) se(par fmt(3))) starlevels(* 0.05 ** 0.01 ) stats(r2 r2_a rmse N,fmt(3 3 3 0 ));

------------------------------------------------------------------------------------------------------
                    dummy   dummyinter~t     intershift   interslope~t     slopeshift   continteract  
                     b/se           b/se           b/se           b/se           b/se           b/se  
------------------------------------------------------------------------------------------------------
female             -4.246**       -1.912**       -5.311**       -5.433**                              
                  (0.211)        (0.277)        (0.199)        (1.093)                                
married             5.093**        7.099**                                                            
                  (0.208)        (0.313)                                                              
female_mar~d                      -4.143**                                                            
                                 (0.412)                                                              
yrschl18                                          2.078**        2.075**        2.239**        1.532**
                                                (0.042)        (0.063)        (0.045)        (0.068)  
female_yr~18                                                     0.009         -0.368**               
                                                               (0.083)        (0.015)                 
yrxfte11                                                                                      -0.153**
                                                                                             (0.046)  
yrxfte11_~18                                                                                   0.033**
                                                                                             (0.004)  
_cons              25.747**       24.576**        0.317          0.370         -1.967**       -0.568  
                  (0.180)        (0.206)        (0.552)        (0.814)        (0.562)        (0.900)  
------------------------------------------------------------------------------------------------------
r2                  0.059          0.064          0.192          0.192          0.190          0.226  
r2_a                0.059          0.064          0.192          0.192          0.190          0.226  
rmse               13.432         13.393         12.448         12.449         12.459         12.179  
N                   15817          15817          15817          15817          15817          15817  
------------------------------------------------------------------------------------------------------</code></pre>
</section>
<section id="example-with-stata-15" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li><p><strong>Model 1</strong> allows for different intercepts for women and married people</p>
<ul>
<li><p>Gender gap does not depend on marriage; marriage premium does not depend on gender</p></li>
<li><p>Women earn $4.25 less than men, married people earn $5.09 more than non-married people</p></li>
</ul></li>
<li><p><strong>Model 2</strong> allows gender gap to depend on marriage; marriage gap to depend on gender</p>
<ul>
<li><p>Gender gap for unmarried is -$1.91</p></li>
<li><p>Gender gap for married people is wider, equal to $-1.91 - $4.14</p></li>
</ul></li>
<li><p><strong>Model 3</strong> estimates returns to schooling, allows intercept shift for women</p>
<ul>
<li><p>Wages for women are $5.43 lower regardless of schooling</p></li>
<li><p>Return to schooling is $2.08 for women and men</p></li>
</ul></li>
<li><p><strong>Model 4</strong> allows intercept and slope to differ for women</p>
<ul>
<li><p>Wages for women are $5.31 lower regardless of schooling</p></li>
<li><p>Return to schooling is $2.08 for men, $2.09 for women</p></li>
</ul></li>
</ul>
</section>
<section id="example-with-stata-16" class="slide level2" data-background-color="#d9edc2">
<h2>Example with Stata</h2>
<ul>
<li><p><strong>Model 5</strong> allows only slope to differ for women</p>
<ul>
<li><p>Intercept is the same for men and women</p></li>
<li><p>Return to schooling is $2.24 for men, $1.87 for women</p></li>
</ul></li>
<li><p><strong>Model 6</strong> allows interaction in effects of experience and education</p>
<ul>
<li><p>Return to experience is increasing in education</p></li>
<li><p>Return to education is increasing in experience</p></li>
</ul></li>
</ul>
</section></section>
<section>
<section id="nonlinear-effects-of-student-teacher-ratio-on-test-scores" class="title-slide slide level1 center">
<h1>Nonlinear Effects of Student Teacher Ratio on Test Scores</h1>

</section>
<section id="introduction-5" class="slide level2">
<h2>Introduction</h2>
<ul>
<li><p>We end the chapter by revisiting the effect of class size and test scores</p></li>
<li><p>Our models until now have been linear</p>
<ul>
<li>One extra student has same effect on test scores regardless of class size</li>
</ul></li>
<li><p>This section generalizes that linear model in two ways</p></li>
<li><p>Includes interaction terms with other variables</p>
<ul>
<li>Lets class size effect depend on values of other variables</li>
</ul>
<!-- -->
<ul>
<li><p>Allows for nonlinearities in the class size effect</p>
<ul>
<li>Lets class size effect depend on class size</li>
</ul></li>
</ul></li>
<li><p>Example also uses hypothesis testing techniques learned earlier</p></li>
</ul>
</section>
<section id="introduction-6" class="slide level2">
<h2>Introduction</h2>

<img data-src="table831.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="introduction-7" class="slide level2">
<h2>Introduction</h2>

<img data-src="table832.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="introduction-8" class="slide level2">
<h2>Introduction</h2>

<img data-src="table833.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="base-specification" class="slide level2">
<h2>Base Specification</h2>
<ul>
<li><p>Column 1 contains the base specification</p></li>
<li><p>Model is linear in student teacher ratio, with small set of controls</p>
<ul>
<li><p>% ESL</p></li>
<li><p>% Free/Reduced Lunch</p></li>
</ul></li>
<li><p>Slope on class size is what we have seen before</p>
<ul>
<li><p>One more student per teacher lowers test scores by one point</p></li>
<li><p>Significant at the 1% level</p></li>
</ul></li>
</ul>
</section>
<section id="alternative-specification-with-income-control" class="slide level2">
<h2>Alternative Specification with Income Control</h2>
<ul>
<li><p>Column 2 adds log district income to the base specification</p></li>
<li><p>Slope on class size falls compared to base</p>
<ul>
<li><p>One more student per teacher lowers test scores by 0.73 points</p></li>
<li><p>Significant at the 1% level</p></li>
</ul></li>
<li><p>Important to be careful with interpretation of slope on income</p>
<ul>
<li><p>Measured in logarithms</p></li>
<li><p>Effect of 1% increase in income on test scores is <span class="math inline">\(\frac{\hat{\beta}_{inc} }{100} = \frac{11.57}{100} = 0.1157\)</span></p></li>
<li><p>Statistically significant at 1% level</p></li>
<li><p>It is a relatively small coefficient</p></li>
</ul></li>
</ul>
</section>
<section id="interaction-with-high-fraction-esl" class="slide level2">
<h2>Interaction with High Fraction ESL</h2>
<ul>
<li><p>Columns 3-4 explore interaction terms with <span class="math inline">\(HiEL_{i}\)</span></p>
<ul>
<li><span class="math inline">\(HiEL_{i} = 1\)</span> when fraction of English learners <span class="math inline">\(&gt;10\%\)</span></li>
</ul></li>
<li><p>Models include <span class="math inline">\(HiEL_{i}\)</span> on its own and interacted with <span class="math inline">\(STR_{i}\)</span></p>
<ul>
<li><p>Allows intercept shift for districts with high % ESL</p></li>
<li><p>Also allows different slopes on <span class="math inline">\(STR_{i}\)</span> for high and low % ESL districts</p></li>
</ul></li>
<li><p>Using column 3, interpretation on <span class="math inline">\(STR_{i}\)</span> slope in first row changes</p>
<ul>
<li><p>Adding one more student reduces scores by 0.97 <em>for districts with low fraction ESL</em></p>
<ul>
<li>This is slope on <span class="math inline">\(STR_{i}\)</span> for districts where <span class="math inline">\(HiEL_{i} = 0\)</span></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="interaction-with-high-fraction-esl-1" class="slide level2">
<h2>Interaction with High Fraction ESL</h2>
<ul>
<li><p>Coefficient on <span class="math inline">\(HiEL_{i} \times STR_{i}\)</span> is <em>difference</em> in slope for high ESL districts</p>
<ul>
<li><p>Slope on <span class="math inline">\(STR_{i}\)</span> is -1.28 lower for <span class="math inline">\(HiEL_{i} = 1\)</span></p></li>
<li><p>Total slope on <span class="math inline">\(STR_{i}\)</span> when <span class="math inline">\(HiEL_{i} = 1\)</span> is <span class="math inline">\(-0.97 - 1.28 = -2.25\)</span></p></li>
<li><p>Effect of additional student is stronger when high % ESL</p></li>
<li><p>But, coefficient on interaction is statistically insignificant</p></li>
</ul></li>
<li><p>Coefficient on <span class="math inline">\(HiEL_{i}\)</span> measures intercept shift</p>
<ul>
<li><p>Difference in predicted test scores when other variables are zero</p></li>
<li><p><span class="math inline">\(HiEL_{i} = 1\)</span> has higher intercept by about 5.64 points</p></li>
</ul></li>
<li><p>Column 4 is same idea, but adds free lunch and income</p>
<ul>
<li><p>Slope on <span class="math inline">\(STR_{i}\)</span> when <span class="math inline">\(HiEL_{i} = 0\)</span> is -0.53</p></li>
<li><p>Slope on <span class="math inline">\(STR_{i}\)</span> when <span class="math inline">\(HiEL_{i} = 1\)</span> is <span class="math inline">\(-0.53 - 0.58 = -1.11\)</span></p></li>
<li><p>Upward intercept shift when <span class="math inline">\(HiEL_{i} = 1\)</span> is about the same</p></li>
</ul></li>
</ul>
</section>
<section id="nonlinearities-in-test-score-effect" class="slide level2">
<h2>Nonlinearities in Test Score Effect</h2>
<ul>
<li><p>Columns 5-7 explore nonlinearities in the class size effect</p>
<ul>
<li>With polynomial functions</li>
</ul></li>
<li><p>Column 5 adds a cubic polynomial in <span class="math inline">\(STR_{i}\)</span></p>
<ul>
<li><p>Coefficients on all polynomial terms are statistically significant</p>
<ul>
<li>So we would want to keep nonlinear terms in the regression</li>
</ul></li>
<li><p>Interpretation is tricky</p>
<ul>
<li><p>With a cubic, effect of <span class="math inline">\(STR_{i}\)</span> on test scores is <span class="math inline">\(\frac{\Delta \hat{TestScore}_{i}}{\Delta STR_{i}} = \beta_{str} + 2\beta_{str^2}STR_{i} + 3\beta_{str^3}STR_{i}^2\)</span></p></li>
<li><p>Need to know <span class="math inline">\(STR_{i}\)</span> to compute this effect</p></li>
<li><p>With 20 students, slope is <span class="math inline">\(\frac{\Delta \hat{TestScore}_{i}}{\Delta STR_{i}} = 64.33 + 2(-3.42)(20) + 3(0.059)(20)^2 = -1.67\)</span></p></li>
</ul></li>
<li><p>Also note intecept shift downward for high ESL districts</p></li>
</ul></li>
</ul>
</section>
<section id="nonlinearities-in-test-score-effect-1" class="slide level2">
<h2>Nonlinearities in Test Score Effect</h2>
<ul>
<li><p>Column 7 reports very similar specification</p>
<ul>
<li><p>Difference is <span class="math inline">\(HiEL\)</span> dummy replaced with %ESL</p></li>
<li><p>Estimates on polynomial terms are very similar</p></li>
</ul></li>
<li><p>Column 6 interacts nonlinear function in <span class="math inline">\(STR_{i}\)</span> with <span class="math inline">\(HiEL\)</span></p>
<ul>
<li><p>Allows nonlinear function in <span class="math inline">\(STR_{i}\)</span> to differ between high and low ESL districts</p></li>
<li><p>Interaction terms are <em>difference</em> in polynomial terms when <span class="math inline">\(HiEL_{i} = 1\)</span></p>
<ul>
<li><p>These are significant at 5% level, suggesting different relationship in high vs low ESL districts</p></li>
<li><p>Also, reject null that interaction terms are jointly zero at 5% level</p></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="nonlinearities-in-test-score-effect-2" class="slide level2">
<h2>Nonlinearities in Test Score Effect</h2>

<img data-src="nonlineartestscore.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="nonlinearities-in-test-score-effect-3" class="slide level2">
<h2>Nonlinearities in Test Score Effect</h2>

<img data-src="interacttestscore.jpg" style="width:7in" class="r-stretch quarto-figure-center"></section>
<section id="summary" class="slide level2">
<h2>Summary</h2>
<ul>
<li><p>Table 8.3 in text presents many specifications</p></li>
<li><p>Here are the main takeaways</p>
<ul>
<li><p>Omitted variables bias is an issue</p>
<ul>
<li>Controlling for economic background is important</li>
</ul></li>
<li><p>There are nonlinearities in the effect of class size on test scores</p>
<ul>
<li><p>All of the polynomial terms in regressions are statistically significant</p></li>
<li><p>Means effect of class size depends on size of class</p></li>
</ul></li>
<li><p>Relationship between class size and test scores is different in districts with high %ESL</p>
<ul>
<li><p>In columns 3 and 4, accept null that difference in slope is zero</p></li>
<li><p>However, in column 6, differences in slope are significant when we allow nonlinearities</p></li>
</ul></li>
</ul></li>
</ul>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Nonlinear_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Nonlinear_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Nonlinear_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Nonlinear_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Nonlinear_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Nonlinear_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="Nonlinear_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Nonlinear_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Nonlinear_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Nonlinear_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Nonlinear_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"theme":"whiteboard","src":"drawings.json"},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>